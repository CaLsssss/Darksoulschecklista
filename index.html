<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Dark Souls Checklist</title>
  <style>
    body { font-family: Arial, sans-serif; background: #1c1c1c; margin: 10px; padding: 10px; color: #eee; }
    #progress { text-align: center; font-size: 24px; margin-bottom: 15px; color: #f3f3f3; font-weight: bold; }
    h1 { margin: 20px 0 10px 0; font-size: 28px; color: #f3f3f3; text-align: center; }
    h2 { margin: 15px 0 10px 0; font-size: 20px; color: #ddd; border-left: 4px solid #888; padding-left: 8px; }
    .section { background: #2b2b2b; padding: 15px; border-radius: 12px; margin: 15px auto; box-shadow: 0 2px 8px rgba(0,0,0,0.5); max-width: 600px; }
    .section-progress { text-align: right; color: #f3f3f3; margin-bottom: 5px; font-size: 16px; }
    ul { list-style: none; padding-left: 0; margin: 5px 0; }
    li { margin: 6px 0; padding: 6px 10px; font-size: 17px; display: flex; align-items: center; background: #3a3a3a; border-radius: 8px; transition: background 0.2s; }
    li:hover { background: #4a4a4a; }
    input[type="checkbox"] { transform: scale(1.5); margin-right: 12px; cursor: pointer; }
    li a { color: #eee; text-decoration: none; cursor: pointer; }
    li a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div id="progress">ZROBILES 0%</div>

  <!-- ====================== BRONIE ====================== -->
  <h1>Weapons</h1>
  <div class="section" id="weapons-section">
    <div class="section-progress">ZROBILES 0% Weapons</div>
    <h2>Soul Weapons</h2>
    <ul>
      <li><input type="checkbox"> Moonlight Butterfly Horn</li>
      <li><input type="checkbox"> Crystal Ring Shield</li>
      <li><input type="checkbox"> Quelaag's Furysword</li>
      <li><input type="checkbox"> Chaos Blade</li>
      <li><input type="checkbox"> Greatsword of Artorias (Cursed)</li>
      <li><input type="checkbox"> Greatsword of Artorias</li>
      <li><input type="checkbox"> Greatshield of Artorias</li>
      <li><input type="checkbox"> Golem Axe</li>
      <li><input type="checkbox"> Dragon Bone Fist</li>
      <li><input type="checkbox"> Lifehunt Scythe</li>
      <li><input type="checkbox"> Dragonslayer Spear</li>
      <li><input type="checkbox"> Smough's Hammer</li>
      <li><input type="checkbox"> Darkmoon Bow</li>
      <li><input type="checkbox"> Tin Darkmoon Catalyst</li>
      <li><input type="checkbox"> Great Lord Greatsword</li>
    </ul>
    <h2>Tail Cutoffs</h2>
    <ul>
      <li><input type="checkbox"> Drake Sword</li>
      <li><input type="checkbox"> Dragon King Greataxe</li>
      <li><input type="checkbox"> Priscilla's Dagger</li>
      <li><input type="checkbox"> Moonlight Greatsword</li>
      <li><input type="checkbox"> Dragon Greatsword</li>
    </ul>
    <h2>Covenant Weapons</h2>
    <ul>
      <li><input type="checkbox"> Gravelord Sword</li>
      <li><input type="checkbox"> Dark Hand</li>
    </ul>
    <h2>Enemy Drops</h2>
    <ul>
      <li><input type="checkbox"> Black Knight Sword</li>
      <li><input type="checkbox"> Black Knight Greatsword</li>
      <li><input type="checkbox"> Black Knight Greataxe</li>
      <li><input type="checkbox"> Black Knight Halberd</li>
      <li><input type="checkbox"> Black Knight Shield</li>
      <li><input type="checkbox"> Channeler's Trident</li>
      <li><input type="checkbox"> Crescent Axe</li>
      <li><input type="checkbox"> Crest Shield</li>
      <li><input type="checkbox"> Giant's Halberd</li>
      <li><input type="checkbox"> Silver Knight Straight Sword</li>
      <li><input type="checkbox"> Silver Knight Spear</li>
      <li><input type="checkbox"> Silver Knight Shield</li>
      <li><input type="checkbox"> Stone Greatsword</li>
      <li><input type="checkbox"> Stone Greatshield</li>
      <li><input type="checkbox"> Grant</li>
      <li><input type="checkbox"> Sanctus</li>
    </ul>
    <h2>Corpse/Chest Loots</h2>
    <ul>
      <li><input type="checkbox"> Dragon Crest Shield</li>
      <li><input type="checkbox"> Havel's Greatshield</li>
      <li><input type="checkbox"> Dragon Tooth</li>
      <li><input type="checkbox"> Dragonslayer Greatbow</li>
      <li><input type="checkbox"> Velka's Rapier</li>
      <li><input type="checkbox"> Astora's Straight Sword</li>
      <li><input type="checkbox"> Bloodshield</li>
      <li><input type="checkbox"> Black Iron Greatshield</li>
      <li><input type="checkbox"> Effigy Shield</li>
    </ul>
  </div>

  <!-- Analogicznie dla Sorceries, Pyromancies, Miracles … -->
  <!-- ... -->

  <script>
    const nameToWiki = {
      "Moonlight Butterfly Horn": "Moonlight_Butterfly_Horn",
      "Crystal Ring Shield": "Crystal_Ring_Shield",
      "Quelaag's Furysword": "Quelaag%27s_Furysword",
      "Chaos Blade": "Chaos_Blade",
      "Greatsword of Artorias": "Greatsword_of_Artorias",
      "Greatsword of Artorias (Cursed)": "Greatsword_of_Artorias_(Cursed)",
      "Greatshield of Artorias": "Greatshield_of_Artorias",
      "Golem Axe": "Golem_Axe",
      "Dragon Bone Fist": "Dragon_Bone_Fist",
      "Lifehunt Scythe": "Lifehunt_Scythe",
      "Dragonslayer Spear": "Dragonslayer_Spear",
      "Smough's Hammer": "Smough%27s_Hammer",
      "Darkmoon Bow": "Darkmoon_Bow",
      "Tin Darkmoon Catalyst": "Tin_Darkmoon_Catalyst",
      "Great Lord Greatsword": "Great_Lord_Greatsword",
      "Drake Sword": "Drake_Sword",
      "Dragon King Greataxe": "Dragon_King_Greataxe",
      "Priscilla's Dagger": "Priscilla%27s_Dagger",
      "Moonlight Greatsword": "Moonlight_Greatsword",
      "Dragon Greatsword": "Dragon_Greatsword",
      "Gravelord Sword": "Gravelord_Sword",
      "Dark Hand": "Dark_Hand",
      "Black Knight Sword": "Black_Knight_Sword",
      "Black Knight Greatsword": "Black_Knight_Greatsword",
      "Black Knight Greataxe": "Black_Knight_Greataxe",
      "Black Knight Halberd": "Black_Knight_Halberd",
      "Black Knight Shield": "Black_Knight_Shield",
      "Channeler's Trident": "Channeler%27s_Trident",
      "Crescent Axe": "Crescent_Axe",
      "Crest Shield": "Crest_Shield",
      "Giant's Halberd": "Giant%27s_Halberd",
      "Silver Knight Straight Sword": "Silver_Knight_Straight_Sword",
      "Silver Knight Spear": "Silver_Knight_Spear",
      "Silver Knight Shield": "Silver_Knight_Shield",
      "Stone Greatsword": "Stone_Greatsword",
      "Stone Greatshield": "Stone_Greatshield",
      "Grant": "Grant",
      "Sanctus": "Sanctus",
      "Dragon Crest Shield": "Dragon_Crest_Shield",
      "Havel's Greatshield": "Havel%27s_Greatshield",
      "Dragon Tooth": "Dragon_Tooth",
      "Dragonslayer Greatbow": "Dragonslayer_Greatbow",
      "Velka's Rapier": "Velka%27s_Rapier",
      "Astora's Straight Sword": "Astora%27s_Straight_Sword",
      "Bloodshield": "Bloodshield",
      "Black Iron Greatshield": "Black_Iron_Greatshield",
      "Effigy Shield": "Effigy_Shield"
      // … tu dopisz pozostałe pozycje: czary, cuda itd.
    };

    document.querySelectorAll('li').forEach(li => {
      const text = li.textContent.trim();
      const slug = nameToWiki[text];
      if (slug) {
        const url = `https://darksouls.fandom.com/wiki/${slug}`;
        const checkbox = li.querySelector('input[type=checkbox]');
        const nameNode = document.createElement('a');
        nameNode.href = url;
        nameNode.target = "_blank";
        nameNode.textContent = text;
        // wstaw link po checkboxie
        li.innerHTML = "";
        li.appendChild(checkbox);
        li.appendChild(nameNode);
      }
    });

    // Twój istniejący kod progressu:
    const globalProgressText = document.getElementById('progress');
    const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
    const weaponsSection = document.getElementById('weapons-section');
    const otherSections = document.querySelectorAll('.section:not(#weapons-section)');

    function updateGlobalProgress() {
      const total = allCheckboxes.length;
      const checked = document.querySelectorAll('input[type="checkbox"]:checked').length;
      const percent = ((checked / total) * 100).toFixed(2);
      globalProgressText.textContent = `ZROBILES ${percent}%`;
    }

    function updateWeaponsProgress() {
      const checkboxes = weaponsSection.querySelectorAll('input[type="checkbox"]');
      const checked = weaponsSection.querySelectorAll('input[type="checkbox"]:checked').length;
      const percent = ((checked / checkboxes.length) * 100).toFixed(2);
      const progressDiv = weaponsSection.querySelector('.section-progress');
      if (progressDiv) { progressDiv.textContent = `ZROBILES ${percent}% Weapons`; }
    }

    function updateSectionProgress(section) {
      const checkboxes = section.querySelectorAll('input[type="checkbox"]');
      const checked = section.querySelectorAll('input[type="checkbox"]:checked').length;
      const percent = ((checked / checkboxes.length) * 100).toFixed(2);
      const progressDiv = section.querySelector('.section-progress');
      let sectionName = 'Sekcja';
      const h1 = section.previousElementSibling;
      if (h1 && h1.tagName === 'H1') sectionName = h1.innerText;
      if (progressDiv) progressDiv.textContent = `ZROBILES ${percent}% ${sectionName}`;
    }

    function updateAllProgress() {
      updateGlobalProgress();
      updateWeaponsProgress();
      otherSections.forEach(section => updateSectionProgress(section));
    }

    allCheckboxes.forEach(cb => cb.addEventListener('change', updateAllProgress));
    updateAllProgress();
  </script>
</body>
</html>
